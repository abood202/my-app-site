<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>معرض أعمالي</title>

  <link rel="icon" type="image/png" href="assets/my_logo.jpg" />
  <link rel="apple-touch-icon" href="assets/my_logo.jpg" />

  <style>
    :root{
      --bg:#0b1220;
      --card:#0f172a;
      --text:#e5e7eb;
      --muted:#94a3b8;
      --line:rgba(148,163,184,.18);
      --shadow: 0 18px 50px rgba(0,0,0,.35);
      --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background: radial-gradient(1200px 700px at 80% -10%, rgba(56,189,248,.22), transparent 60%),
                  radial-gradient(1200px 700px at 10% 10%, rgba(167,139,250,.18), transparent 55%),
                  var(--bg);
      color:var(--text);
      font-family:system-ui,Segoe UI,Tahoma,Arial;
      line-height:1.7;
    }

    .wrap{max-width:1100px;margin:34px auto;padding:0 16px}

    .top{
      display:flex;align-items:flex-start;justify-content:space-between;gap:16px;
      margin-bottom:18px;
    }
    .brand{display:flex;align-items:center;gap:14px}
    .logo{
      width:56px;height:56px;border-radius:16px;
      background:rgba(255,255,255,.06);
      border:1px solid var(--line);
      display:flex;align-items:center;justify-content:center;
      box-shadow: var(--shadow);
      overflow:hidden;
      flex:0 0 auto;
    }
    .logo img{width:100%;height:100%;object-fit:cover}

    h1{margin:0;font-size:26px;letter-spacing:.2px}
    .sub{color:var(--muted);max-width:720px;font-size:14.5px;margin-top:4px}

    .grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:14px;
      margin-top:14px;
    }
    @media (max-width:980px){ .grid{grid-template-columns: repeat(2, minmax(0, 1fr));} }
    @media (max-width:640px){ .grid{grid-template-columns: 1fr;} .top{flex-direction:column;} }

    a.card{
      display:block;
      text-decoration:none;
      color:inherit;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border:1px solid var(--line);
      border-radius:var(--radius);
      overflow:hidden;
      box-shadow: var(--shadow);
      transition:transform .08s ease, border-color .15s ease, background .15s ease;
    }
    a.card:hover{
      transform:translateY(-2px);
      border-color:rgba(255,255,255,.24);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
    }

    .cover{
      height:150px;
      background:rgba(2,6,23,.35);
      border-bottom:1px solid rgba(255,255,255,.10);
      position:relative;
    }
    .cover img{
      width:100%;height:100%;object-fit:cover;display:block;
      filter:saturate(1.05);
    }
    .badge{
      position:absolute;
      bottom:12px;right:12px;
      padding:6px 10px;
      border-radius:999px;
      font-size:12.5px;
      background:rgba(2,6,23,.55);
      border:1px solid rgba(255,255,255,.14);
      color:var(--text);
      backdrop-filter: blur(6px);
    }

    .body{padding:14px 14px 16px}
    .titleRow{display:flex;align-items:center;gap:10px}
    .mini{
      width:38px;height:38px;border-radius:12px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.14);
      overflow:hidden;
      flex:0 0 auto;
    }
    .mini img{width:100%;height:100%;object-fit:cover}
    .name{font-weight:800;font-size:16px;margin:0}
    .desc{color:var(--muted);font-size:13.5px;margin:8px 0 0}

    .meta{
      display:flex;gap:8px;flex-wrap:wrap;margin-top:12px
    }
    .pill{
      padding:6px 10px;border-radius:999px;
      background:rgba(2,6,23,.35);
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      font-size:12.5px;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }

    /* ====== Downloads pill ====== */
    .pill .num{
      color:var(--text);
      font-weight:800;
      letter-spacing:.2px;
      font-variant-numeric: tabular-nums;
    }
    .pill .spinner{
      width:12px;height:12px;border-radius:999px;
      border:2px solid rgba(255,255,255,.25);
      border-top-color: rgba(255,255,255,.9);
      animation:spin .9s linear infinite;
      display:inline-block;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* ====== Footer + Social ====== */
    footer{
      margin:18px 0 12px;
      color:var(--muted);
      font-size:12.5px;
      text-align:center;
    }
    .social{
      display:flex;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      margin-top:10px;
    }
    .social a{
      width:44px;height:44px;
      border-radius:14px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:var(--text);
      text-decoration:none;
      transition:transform .08s ease, background .15s ease, border-color .15s ease;
    }
    .social a:hover{
      transform:translateY(-2px);
      background:rgba(255,255,255,.09);
      border-color:rgba(255,255,255,.22);
    }
    .social svg{width:22px;height:22px;display:block}
    .hint{margin-top:8px;color:var(--muted);font-size:12px}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <div class="logo" aria-hidden="true">
          <img src="assets/my_logo.jpg" alt="Logo">
        </div>
        <div>
          <h1>معرض تطبيقاتي وأعمالي</h1>
          <div class="sub">
            هنا تجد أحدث تطبيقاتي. اضغط على أي بطاقة لفتح صفحة التنزيل والملاحظات الخاصة بها.
          </div>
        </div>
      </div>
    </div>

    <div class="grid">

      <!-- بطاقة تطبيق: مدير الفيديوهات -->
      <a class="card" href="apps/video-manager" aria-label="فتح صفحة مدير الفيديوهات">
        <div class="cover">
          <img src="assets/cover_video_manager.jpg" alt="غلاف مدير الفيديوهات" onerror="this.remove()">
          <div class="badge">Android • APK</div>
        </div>

        <div class="body">
          <div class="titleRow">
            <div class="mini" aria-hidden="true">
              <img src="assets/app_icon.png" alt="">
            </div>
            <div>
              <p class="name">مدير الفيديوهات</p>
              <div class="desc">
                انسخ الرابط والصقه، اختر الجودة، واترك التطبيق يتولى الباقي.
                <br>
                يدعم تنزيل فيديوهات وShorts وقوائم تشغيل، مع تحميل متوازي لفيديو أو اثنين لتوفير الوقت.
              </div>
            </div>
          </div>

          <div class="meta">
            <span class="pill">Videos</span>
            <span class="pill">Smart Download</span>
            <span class="pill">Issues</span>

            <!-- ✅ إجمالي التنزيلات (من ملف JSON داخل الموقع) -->
            <span class="pill" id="vmDownloads" title="إجمالي تنزيلات ملفات APK">
              Downloads:
              <span class="spinner" aria-hidden="true"></span>
              <span class="num" id="vmDownloadsNum" style="display:none">—</span>
            </span>
          </div>
        </div>
      </a>

      <!-- بطاقة تطبيق: ألبوم الصور -->
      <a class="card" href="#" aria-label="فتح صفحة البوم الصور">
        <div class="cover">
          <img src="assets/cover_alpum.png" alt="غلاف البوم الصور" onerror="this.remove()">
          <div class="badge">Android • APK</div>
        </div>

        <div class="body">
          <div class="titleRow">
            <div class="mini" aria-hidden="true">
              <img src="assets/alpum.png" alt="">
            </div>
            <div>
              <p class="name">البوم الصور</p>
              <div class="desc">سيتم اضافة التفاصيل قريبا</div>
            </div>
          </div>
          <div class="meta"><span class="pill">Coming Soon</span></div>
        </div>
      </a>

    </div>

    <footer>
      © معرض أعمالي — مُستضاف عبر GitHub

      <div class="social" aria-label="روابط التواصل">
        <a href="https://www.linkedin.com/in/abd-elhakeem-mohamed-aa1057376" target="_blank" rel="noopener" aria-label="LinkedIn" title="LinkedIn">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M6.5 9.5V18.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M6.5 6.5h.01" stroke="currentColor" stroke-width="4" stroke-linecap="round"/>
            <path d="M10.5 18.5V9.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M10.5 12.2c.6-1.5 1.9-2.7 3.8-2.7 2.7 0 4.2 1.8 4.2 4.7v4.3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </a>

        <a href="https://wa.me/201020529973" target="_blank" rel="noopener" aria-label="WhatsApp" title="WhatsApp">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 21a9 9 0 1 0-7.7-4.3L3 21l4.5-1.2A8.9 8.9 0 0 0 12 21Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M9.2 8.8c-.2-.5-.4-.6-.8-.6h-.6c-.2 0-.5.1-.7.4-.2.3-.8.8-.8 2 0 1.2.8 2.4.9 2.6.1.2 1.6 2.6 4 3.6 2 .9 2.4.7 2.8.6.4-.1 1.3-.6 1.5-1.2.2-.6.2-1.1.1-1.2-.1-.1-.4-.2-.8-.4-.4-.2-2.3-1.2-2.6-1.3-.3-.1-.5-.2-.7.2-.2.4-.8 1.3-1 1.6-.2.3-.4.3-.8.1-.4-.2-1.5-.6-2.8-1.9-1-.9-1.7-2-1.9-2.4-.2-.4 0-.6.1-.7.1-.1.4-.4.5-.6.2-.2.2-.4.3-.6.1-.2 0-.4 0-.6-.1-.2-.6-1.6-.8-2.1Z" stroke="currentColor" stroke-width="1.7" stroke-linejoin="round"/>
          </svg>
        </a>

        <a href="https://t.me/Abdodot33" target="_blank" rel="noopener" aria-label="Telegram" title="Telegram">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M21 4 3.8 10.7c-.8.3-.8 1.4 0 1.7l4.3 1.6 1.6 4.7c.3.8 1.3.9 1.8.3l2.6-3.1 4.4 3.3c.6.4 1.5.1 1.6-.7L22 4.9c.2-.8-.6-1.4-1.3-.9Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M8.1 14.0 19.4 6.6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </a>
      </div>

      <div class="hint">اضغط على أيقونة التواصل لفتح الرابط مباشرة.</div>
    </footer>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    function formatNumber(n){
      try { return new Intl.NumberFormat("ar-EG").format(n); }
      catch { return String(n); }
    }

    async function loadVideoManagerDownloads(){
      const pill = $("vmDownloads");
      const num  = $("vmDownloadsNum");
      if (!pill || !num) return;

      try{
        // ✅ ملف ثابت داخل GitHub Pages (يتم تحديثه عبر GitHub Actions)
        const res = await fetch("data/downloads.json?ts=" + Date.now());
        if (!res.ok) throw new Error("downloads.json error: " + res.status);

        const data = await res.json();
        const vm = data["video-manager"];

        const total = Number(vm?.total ?? 0);
        const tag   = String(vm?.tag ?? "");
        const upd   = String(vm?.updated_at ?? "");

        pill.querySelector(".spinner")?.remove();
        num.style.display = "inline";
        num.textContent = formatNumber(total);

        pill.title = `إجمالي تنزيلات APK${tag ? " • " + tag : ""}${upd ? " • Updated: " + upd : ""}`;

      }catch(err){
        pill.querySelector(".spinner")?.remove();
        num.style.display = "inline";
        num.textContent = "—";
        pill.title = "تعذّر جلب عدد التنزيلات حالياً.";
        console.warn(err);
      }
    }

    loadVideoManagerDownloads();
  </script>
</body>
</html>
